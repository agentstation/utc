# utctime

```sh
                               _        _    _                    
                         _   _ | |_  ___| |_ (_)_ __ ___   ___    
                        | | | || __|/ __| __|| | '_ ` _ \ / _ \   
                        | |_| || |_| (__| |_ | | | | | | |  __/   
                         \___/  \__|\___|\__||_|_| |_| |_|\___|   
```

[![GoDoc](http://img.shields.io/badge/go-documentation-blue.svg?style=flat-square)](https://pkg.go.dev/github.com/agentstation/utctime)
[![Go Report Card](https://goreportcard.com/badge/github.com/agentstation/utctime?style=flat-square)](https://goreportcard.com/report/github.com/agentstation/utctime)
[![GitHub Workflow Status](https://img.shields.io/github/actions/workflow/status/agentstation/utctime/ci.yaml?style=flat-square)](https://github.com/agentstation/utctime/actions)
[![codecov](https://codecov.io/gh/agentstation/utctime/graph/badge.svg?token=EOAZUVVH7H)](https://codecov.io/gh/agentstation/utctime)
[![License](http://img.shields.io/badge/license-mit-blue.svg?style=flat-square)](https://raw.githubusercontent.com/agentstation/utctime/master/LICENSE)

The `utctime` package provides an enhanced alias of Go's `time.Time` that ensures your times are consistently in UTC. It includes helpful additional methods for common time operations and formatting.

## Features

- Guaranteed UTC time handling
- JSON marshaling/unmarshaling support
- SQL database compatibility
- Automatic timezone handling (PST/PDT, EST/EDT, etc.)
- Extensive formatting options:
  - US date formats (MM/DD/YYYY)
  - EU date formats (DD/MM/YYYY)
  - ISO/RFC standards
  - Common components (weekday, month, etc.)
- Timezone conversion methods with fallback support
- Full compatibility with Go's standard `time.Time` methods

## Installation

To install the `utctime` package, use the following command:

```sh
go get github.com/agentstation/utctime
```

## Usage

1. Import the package:

```go
import "github.com/agentstation/utctime"
```

2. Create a new UTC time:

```go
// Get current time in UTC
now := utctime.Now()

// Convert existing time.Time to UTC
myTime := utctime.New(someTime)

// Parse a time string
t, err := utctime.ParseRFC3339("2023-01-01T12:00:00Z")
```

3. Format times using various layouts:

```go
t := utctime.Now()

// US formats
fmt.Println(t.USDateShort())     // "01/02/2024"
fmt.Println(t.USDateTime12())    // "01/02/2024 03:04:05 PM"

// EU formats
fmt.Println(t.EUDateShort())     // "02/01/2024"
fmt.Println(t.EUDateTime24())    // "02/01/2024 15:04:05"

// ISO/RFC formats
fmt.Println(t.RFC3339())         // "2024-01-02T15:04:05Z"
fmt.Println(t.ISO8601())         // "2024-01-02T15:04:05Z"

// Components
fmt.Println(t.WeekdayLong())     // "Tuesday"
fmt.Println(t.MonthShort())      // "Jan"
```

4. Convert between timezones:

```go
t := utctime.Now()

// Get time in different US timezones
pacific := t.Pacific()   // Handles PST/PDT automatically
eastern := t.Eastern()   // Handles EST/EDT automatically
central := t.Central()   // Handles CST/CDT automatically
mountain := t.Mountain() // Handles MST/MDT automatically
```

5. JSON and Database operations:

```go
// JSON marshaling
type Event struct {
    StartTime utctime.Time `json:"start_time"`
    EndTime   utctime.Time `json:"end_time"`
}

// Database operations
type Record struct {
    CreatedAt utctime.Time `db:"created_at"`
    UpdatedAt utctime.Time `db:"updated_at"`
}
```

<!-- gomarkdoc:embed:start -->

<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# utctime

```go
import "github.com/agentstation/utctime"
```

## Index

- [func ValidateTimezoneAvailability\(\) error](<#ValidateTimezoneAvailability>)
- [type Time](<#Time>)
  - [func New\(t time.Time\) Time](<#New>)
  - [func Now\(\) Time](<#Now>)
  - [func Parse\(layout string, s string\) \(Time, error\)](<#Parse>)
  - [func ParseRFC3339\(s string\) \(Time, error\)](<#ParseRFC3339>)
  - [func \(t Time\) ANSIC\(\) string](<#Time.ANSIC>)
  - [func \(t Time\) Add\(d time.Duration\) Time](<#Time.Add>)
  - [func \(t Time\) After\(u Time\) bool](<#Time.After>)
  - [func \(t Time\) Before\(u Time\) bool](<#Time.Before>)
  - [func \(t Time\) CST\(\) time.Time](<#Time.CST>)
  - [func \(t Time\) Central\(\) time.Time](<#Time.Central>)
  - [func \(t Time\) DateOnly\(\) string](<#Time.DateOnly>)
  - [func \(t Time\) EST\(\) time.Time](<#Time.EST>)
  - [func \(t Time\) EUDateLong\(\) string](<#Time.EUDateLong>)
  - [func \(t Time\) EUDateShort\(\) string](<#Time.EUDateShort>)
  - [func \(t Time\) EUDateTime12\(\) string](<#Time.EUDateTime12>)
  - [func \(t Time\) EUDateTime24\(\) string](<#Time.EUDateTime24>)
  - [func \(t Time\) EUTime12\(\) string](<#Time.EUTime12>)
  - [func \(t Time\) EUTime24\(\) string](<#Time.EUTime24>)
  - [func \(t Time\) Eastern\(\) time.Time](<#Time.Eastern>)
  - [func \(t Time\) Equal\(u Time\) bool](<#Time.Equal>)
  - [func \(t Time\) Format\(layout string\) string](<#Time.Format>)
  - [func \(t Time\) ISO8601\(\) string](<#Time.ISO8601>)
  - [func \(t Time\) IsZero\(\) bool](<#Time.IsZero>)
  - [func \(t Time\) Kitchen\(\) string](<#Time.Kitchen>)
  - [func \(t Time\) MST\(\) time.Time](<#Time.MST>)
  - [func \(t Time\) MarshalJSON\(\) \(\[\]byte, error\)](<#Time.MarshalJSON>)
  - [func \(t Time\) MonthLong\(\) string](<#Time.MonthLong>)
  - [func \(t Time\) MonthShort\(\) string](<#Time.MonthShort>)
  - [func \(t Time\) Mountain\(\) time.Time](<#Time.Mountain>)
  - [func \(t Time\) PST\(\) time.Time](<#Time.PST>)
  - [func \(t Time\) Pacific\(\) time.Time](<#Time.Pacific>)
  - [func \(t Time\) RFC3339\(\) string](<#Time.RFC3339>)
  - [func \(t Time\) RFC3339Nano\(\) string](<#Time.RFC3339Nano>)
  - [func \(t Time\) RFC822\(\) string](<#Time.RFC822>)
  - [func \(t Time\) RFC822Z\(\) string](<#Time.RFC822Z>)
  - [func \(t Time\) RFC850\(\) string](<#Time.RFC850>)
  - [func \(t \*Time\) Scan\(value interface\{\}\) error](<#Time.Scan>)
  - [func \(t Time\) String\(\) string](<#Time.String>)
  - [func \(t Time\) Sub\(u Time\) time.Duration](<#Time.Sub>)
  - [func \(t Time\) TimeFormat\(layout TimeLayout\) string](<#Time.TimeFormat>)
  - [func \(t Time\) TimeOnly\(\) string](<#Time.TimeOnly>)
  - [func \(t Time\) USDateLong\(\) string](<#Time.USDateLong>)
  - [func \(t Time\) USDateShort\(\) string](<#Time.USDateShort>)
  - [func \(t Time\) USDateTime12\(\) string](<#Time.USDateTime12>)
  - [func \(t Time\) USDateTime24\(\) string](<#Time.USDateTime24>)
  - [func \(t Time\) USTime12\(\) string](<#Time.USTime12>)
  - [func \(t Time\) USTime24\(\) string](<#Time.USTime24>)
  - [func \(t Time\) UTC\(\) time.Time](<#Time.UTC>)
  - [func \(t \*Time\) UnmarshalJSON\(data \[\]byte\) error](<#Time.UnmarshalJSON>)
  - [func \(t Time\) Value\(\) \(driver.Value, error\)](<#Time.Value>)
  - [func \(t Time\) WeekdayLong\(\) string](<#Time.WeekdayLong>)
  - [func \(t Time\) WeekdayShort\(\) string](<#Time.WeekdayShort>)
- [type TimeLayout](<#TimeLayout>)


<a name="ValidateTimezoneAvailability"></a>
## func [ValidateTimezoneAvailability](<https://github.com/agentstation/utctime/blob/master/utc.go#L76>)

```go
func ValidateTimezoneAvailability() error
```

ValidateTimezoneAvailability checks if all timezone locations were properly initialized Returns nil if initialization was successful, otherwise returns the initialization error

<a name="Time"></a>
## type [Time](<https://github.com/agentstation/utctime/blob/master/utc.go#L84-L86>)

Time is an alias for time.Time that defaults to UTC time.

```go
type Time struct {
    time.Time
}
```

<a name="New"></a>
### func [New](<https://github.com/agentstation/utctime/blob/master/utc.go#L94>)

```go
func New(t time.Time) Time
```

New returns a new Time from a time.Time

<a name="Now"></a>
### func [Now](<https://github.com/agentstation/utctime/blob/master/utc.go#L89>)

```go
func Now() Time
```

Now returns the current time in UTC

<a name="Parse"></a>
### func [Parse](<https://github.com/agentstation/utctime/blob/master/utc.go#L108>)

```go
func Parse(layout string, s string) (Time, error)
```

Parse parses a time string in the specified format and returns a utctime.Time

<a name="ParseRFC3339"></a>
### func [ParseRFC3339](<https://github.com/agentstation/utctime/blob/master/utc.go#L99>)

```go
func ParseRFC3339(s string) (Time, error)
```

ParseRFC3339 parses a time string in RFC3339 format and returns a utctime.Time

<a name="Time.ANSIC"></a>
### func \(Time\) [ANSIC](<https://github.com/agentstation/utctime/blob/master/utc.go#L317>)

```go
func (t Time) ANSIC() string
```

ANSIC formats time as "Mon Jan \_2 15:04:05 2006"

<a name="Time.Add"></a>
### func \(Time\) [Add](<https://github.com/agentstation/utctime/blob/master/utc.go#L202>)

```go
func (t Time) Add(d time.Duration) Time
```

Add returns the time t\+d

<a name="Time.After"></a>
### func \(Time\) [After](<https://github.com/agentstation/utctime/blob/master/utc.go#L192>)

```go
func (t Time) After(u Time) bool
```

After reports whether the time is after u

<a name="Time.Before"></a>
### func \(Time\) [Before](<https://github.com/agentstation/utctime/blob/master/utc.go#L187>)

```go
func (t Time) Before(u Time) bool
```

Before reports whether the time is before u

<a name="Time.CST"></a>
### func \(Time\) [CST](<https://github.com/agentstation/utctime/blob/master/utc.go#L227>)

```go
func (t Time) CST() time.Time
```

CST returns t in CST

<a name="Time.Central"></a>
### func \(Time\) [Central](<https://github.com/agentstation/utctime/blob/master/utc.go#L253>)

```go
func (t Time) Central() time.Time
```

Central returns t in Central time \(handles CST/CDT automatically\)

<a name="Time.DateOnly"></a>
### func \(Time\) [DateOnly](<https://github.com/agentstation/utctime/blob/master/utc.go#L411>)

```go
func (t Time) DateOnly() string
```

DateOnly formats time as "2006\-01\-02"

<a name="Time.EST"></a>
### func \(Time\) [EST](<https://github.com/agentstation/utctime/blob/master/utc.go#L222>)

```go
func (t Time) EST() time.Time
```

EST returns t in EST

<a name="Time.EUDateLong"></a>
### func \(Time\) [EUDateLong](<https://github.com/agentstation/utctime/blob/master/utc.go#L363>)

```go
func (t Time) EUDateLong() string
```

EUDateLong formats time as "2 January 2006"

<a name="Time.EUDateShort"></a>
### func \(Time\) [EUDateShort](<https://github.com/agentstation/utctime/blob/master/utc.go#L358>)

```go
func (t Time) EUDateShort() string
```

EUDateShort formats time as "02/01/2006"

<a name="Time.EUDateTime12"></a>
### func \(Time\) [EUDateTime12](<https://github.com/agentstation/utctime/blob/master/utc.go#L368>)

```go
func (t Time) EUDateTime12() string
```

EUDateTime12 formats time as "02/01/2006 03:04:05 PM"

<a name="Time.EUDateTime24"></a>
### func \(Time\) [EUDateTime24](<https://github.com/agentstation/utctime/blob/master/utc.go#L373>)

```go
func (t Time) EUDateTime24() string
```

EUDateTime24 formats time as "02/01/2006 15:04:05"

<a name="Time.EUTime12"></a>
### func \(Time\) [EUTime12](<https://github.com/agentstation/utctime/blob/master/utc.go#L378>)

```go
func (t Time) EUTime12() string
```

EUTime12 formats time as "3:04 PM"

<a name="Time.EUTime24"></a>
### func \(Time\) [EUTime24](<https://github.com/agentstation/utctime/blob/master/utc.go#L383>)

```go
func (t Time) EUTime24() string
```

EUTime24 formats time as "15:04"

<a name="Time.Eastern"></a>
### func \(Time\) [Eastern](<https://github.com/agentstation/utctime/blob/master/utc.go#L245>)

```go
func (t Time) Eastern() time.Time
```

Eastern returns t in Eastern time \(handles EST/EDT automatically\)

<a name="Time.Equal"></a>
### func \(Time\) [Equal](<https://github.com/agentstation/utctime/blob/master/utc.go#L197>)

```go
func (t Time) Equal(u Time) bool
```

Equal reports whether t and u represent the same time instant

<a name="Time.Format"></a>
### func \(Time\) [Format](<https://github.com/agentstation/utctime/blob/master/utc.go#L274>)

```go
func (t Time) Format(layout string) string
```

Format formats the time using the specified layout

<a name="Time.ISO8601"></a>
### func \(Time\) [ISO8601](<https://github.com/agentstation/utctime/blob/master/utc.go#L297>)

```go
func (t Time) ISO8601() string
```

ISO8601 formats time as "2006\-01\-02T15:04:05Z07:00" \(same as RFC3339\)

<a name="Time.IsZero"></a>
### func \(Time\) [IsZero](<https://github.com/agentstation/utctime/blob/master/utc.go#L269>)

```go
func (t Time) IsZero() bool
```

Add the useful utility methods while maintaining chainability

<a name="Time.Kitchen"></a>
### func \(Time\) [Kitchen](<https://github.com/agentstation/utctime/blob/master/utc.go#L421>)

```go
func (t Time) Kitchen() string
```

Kitchen formats time as "3:04PM"

<a name="Time.MST"></a>
### func \(Time\) [MST](<https://github.com/agentstation/utctime/blob/master/utc.go#L232>)

```go
func (t Time) MST() time.Time
```

MST returns t in MST

<a name="Time.MarshalJSON"></a>
### func \(Time\) [MarshalJSON](<https://github.com/agentstation/utctime/blob/master/utc.go#L146>)

```go
func (t Time) MarshalJSON() ([]byte, error)
```

MarshalJSON implements the json.Marshaler interface for utctime.Time.

<a name="Time.MonthLong"></a>
### func \(Time\) [MonthLong](<https://github.com/agentstation/utctime/blob/master/utc.go#L401>)

```go
func (t Time) MonthLong() string
```

MonthLong formats time as "January"

<a name="Time.MonthShort"></a>
### func \(Time\) [MonthShort](<https://github.com/agentstation/utctime/blob/master/utc.go#L406>)

```go
func (t Time) MonthShort() string
```

MonthShort formats time as "Jan"

<a name="Time.Mountain"></a>
### func \(Time\) [Mountain](<https://github.com/agentstation/utctime/blob/master/utc.go#L261>)

```go
func (t Time) Mountain() time.Time
```

Mountain returns t in Mountain time \(handles MST/MDT automatically\)

<a name="Time.PST"></a>
### func \(Time\) [PST](<https://github.com/agentstation/utctime/blob/master/utc.go#L217>)

```go
func (t Time) PST() time.Time
```

PST returns t in PST

<a name="Time.Pacific"></a>
### func \(Time\) [Pacific](<https://github.com/agentstation/utctime/blob/master/utc.go#L237>)

```go
func (t Time) Pacific() time.Time
```

Pacific returns t in Pacific time \(handles PST/PDT automatically\)

<a name="Time.RFC3339"></a>
### func \(Time\) [RFC3339](<https://github.com/agentstation/utctime/blob/master/utc.go#L287>)

```go
func (t Time) RFC3339() string
```

RFC3339 formats time as "2006\-01\-02T15:04:05Z07:00"

<a name="Time.RFC3339Nano"></a>
### func \(Time\) [RFC3339Nano](<https://github.com/agentstation/utctime/blob/master/utc.go#L292>)

```go
func (t Time) RFC3339Nano() string
```

RFC3339Nano formats time as "2006\-01\-02T15:04:05.999999999Z07:00"

<a name="Time.RFC822"></a>
### func \(Time\) [RFC822](<https://github.com/agentstation/utctime/blob/master/utc.go#L302>)

```go
func (t Time) RFC822() string
```

RFC822 formats time as "02 Jan 06 15:04 MST"

<a name="Time.RFC822Z"></a>
### func \(Time\) [RFC822Z](<https://github.com/agentstation/utctime/blob/master/utc.go#L307>)

```go
func (t Time) RFC822Z() string
```

RFC822Z formats time as "02 Jan 06 15:04 \-0700"

<a name="Time.RFC850"></a>
### func \(Time\) [RFC850](<https://github.com/agentstation/utctime/blob/master/utc.go#L312>)

```go
func (t Time) RFC850() string
```

RFC850 formats time as "Monday, 02\-Jan\-06 15:04:05 MST"

<a name="Time.Scan"></a>
### func \(\*Time\) [Scan](<https://github.com/agentstation/utctime/blob/master/utc.go#L164>)

```go
func (t *Time) Scan(value interface{}) error
```

Scan implements the sql.Scanner interface for database operations for utctime.Time It does this by scanning the value into a time.Time, converting the time.Time to UTC, and then assigning the UTC time to the utctime.Time.

<a name="Time.String"></a>
### func \(Time\) [String](<https://github.com/agentstation/utctime/blob/master/utc.go#L151>)

```go
func (t Time) String() string
```

String implements the Stringer interface for utctime.Time. It prints the time in RFC3339 format.

<a name="Time.Sub"></a>
### func \(Time\) [Sub](<https://github.com/agentstation/utctime/blob/master/utc.go#L207>)

```go
func (t Time) Sub(u Time) time.Duration
```

Sub returns the duration t\-u

<a name="Time.TimeFormat"></a>
### func \(Time\) [TimeFormat](<https://github.com/agentstation/utctime/blob/master/utc.go#L279>)

```go
func (t Time) TimeFormat(layout TimeLayout) string
```

TimeFormat formats the time using the specified layout

<a name="Time.TimeOnly"></a>
### func \(Time\) [TimeOnly](<https://github.com/agentstation/utctime/blob/master/utc.go#L416>)

```go
func (t Time) TimeOnly() string
```

TimeOnly formats time as "15:04:05"

<a name="Time.USDateLong"></a>
### func \(Time\) [USDateLong](<https://github.com/agentstation/utctime/blob/master/utc.go#L330>)

```go
func (t Time) USDateLong() string
```

USDateLong formats time as "January 2, 2006"

<a name="Time.USDateShort"></a>
### func \(Time\) [USDateShort](<https://github.com/agentstation/utctime/blob/master/utc.go#L325>)

```go
func (t Time) USDateShort() string
```

USDateShort formats time as "01/02/2006"

<a name="Time.USDateTime12"></a>
### func \(Time\) [USDateTime12](<https://github.com/agentstation/utctime/blob/master/utc.go#L335>)

```go
func (t Time) USDateTime12() string
```

USDateTime12 formats time as "01/02/2006 03:04:05 PM"

<a name="Time.USDateTime24"></a>
### func \(Time\) [USDateTime24](<https://github.com/agentstation/utctime/blob/master/utc.go#L340>)

```go
func (t Time) USDateTime24() string
```

USDateTime24 formats time as "01/02/2006 15:04:05"

<a name="Time.USTime12"></a>
### func \(Time\) [USTime12](<https://github.com/agentstation/utctime/blob/master/utc.go#L345>)

```go
func (t Time) USTime12() string
```

USTime12 formats time as "3:04 PM"

<a name="Time.USTime24"></a>
### func \(Time\) [USTime24](<https://github.com/agentstation/utctime/blob/master/utc.go#L350>)

```go
func (t Time) USTime24() string
```

USTime24 formats time as "15:04"

<a name="Time.UTC"></a>
### func \(Time\) [UTC](<https://github.com/agentstation/utctime/blob/master/utc.go#L212>)

```go
func (t Time) UTC() time.Time
```

UTC returns t in UTC

<a name="Time.UnmarshalJSON"></a>
### func \(\*Time\) [UnmarshalJSON](<https://github.com/agentstation/utctime/blob/master/utc.go#L117>)

```go
func (t *Time) UnmarshalJSON(data []byte) error
```

UnmarshalJSON implements the json.Unmarshaler interface for utctime.Time

<a name="Time.Value"></a>
### func \(Time\) [Value](<https://github.com/agentstation/utctime/blob/master/utc.go#L157>)

```go
func (t Time) Value() (driver.Value, error)
```

Value implements the driver.Valuer interface for database operations for utctime.Time. It returns the time.Time value and assumes the time is already in UTC.

<a name="Time.WeekdayLong"></a>
### func \(Time\) [WeekdayLong](<https://github.com/agentstation/utctime/blob/master/utc.go#L391>)

```go
func (t Time) WeekdayLong() string
```

WeekdayLong formats time as "Monday"

<a name="Time.WeekdayShort"></a>
### func \(Time\) [WeekdayShort](<https://github.com/agentstation/utctime/blob/master/utc.go#L396>)

```go
func (t Time) WeekdayShort() string
```

WeekdayShort formats time as "Mon"

<a name="TimeLayout"></a>
## type [TimeLayout](<https://github.com/agentstation/utctime/blob/master/utc.go#L10>)



```go
type TimeLayout string
```

<a name="TimeLayoutUSDateShort"></a>Add layout constants at package level

```go
const (
    TimeLayoutUSDateShort  TimeLayout = "01/02/2006"
    TimeLayoutUSDateLong   TimeLayout = "January 2, 2006"
    TimeLayoutUSDateTime12 TimeLayout = "01/02/2006 03:04:05 PM"
    TimeLayoutUSDateTime24 TimeLayout = "01/02/2006 15:04:05"
    TimeLayoutUSTime12     TimeLayout = "3:04 PM"
    TimeLayoutUSTime24     TimeLayout = "15:04"

    TimeLayoutEUDateShort  TimeLayout = "02/01/2006"
    TimeLayoutEUDateLong   TimeLayout = "2 January 2006"
    TimeLayoutEUDateTime12 TimeLayout = "02/01/2006 03:04:05 PM"
    TimeLayoutEUDateTime24 TimeLayout = "02/01/2006 15:04:05"
    TimeLayoutEUTime12     TimeLayout = "3:04 PM"
    TimeLayoutEUTime24     TimeLayout = "15:04"

    TimeLayoutDateOnly     TimeLayout = "2006-01-02"
    TimeLayoutTimeOnly     TimeLayout = "15:04:05"
    TimeLayoutWeekdayLong  TimeLayout = "Monday"
    TimeLayoutWeekdayShort TimeLayout = "Mon"
    TimeLayoutMonthLong    TimeLayout = "January"
    TimeLayoutMonthShort   TimeLayout = "Jan"
)
```

Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)


<!-- gomarkdoc:embed:end -->

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.
